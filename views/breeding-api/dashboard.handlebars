<div class="container" ng-controller='dashboardController'>
		<br>	<br>		
		<h4>Breeding API dashboard</h4>
		<b><small> {[{ user.username }]} | <a ng-click='logout()' href="javascript:void(0)">Log Out</a> </small></b>
		<br>	<br>	
		<div class="row">
				<div class="col-md-3">
					<div  ng-if=' user.priv.includes("admin") '>
						<div class="card">
								<div class="card-body">	
									<b>	Administrator </b> <br>	
									<ul>
										<li> <a href="javascript:void(0)" ng-click='goto("users")'>Users</a></li>
									</ul>
								</div>	
						</div>	<br>	
					</div>
					<div class="card">
							<div class="card-body">	
								<b>	Maw </b> <br>	
								<ul>
									<li> <a href="javascript:void(0)" ng-click='goto("geneset")'>Geneset</a> </li>
									<li> <a href="javascript:void(0)" ng-click='goto("asset")'>Assets</a></li>
								</ul>
							</div>	
					</div>	<br>	
					<div class="card">
							<div class="card-body">	
								<b>	References </b> <br>	
								<ul>
									<li>Maw Structure</li>
									<li>About</li>
									<li>Contact Information</li>
									<li>Privacy Policy</li>
									<li>Terms and Conditions</li>
								</ul>
							</div>			
					</div>	<br>	
				</div>	
				<div class="col-md-9">	
					<div class="card">	
							<div class="card-body">	
									<div class="container">	
											<b><a href="javascript:void(0)" ng-click='goto("home")'>HOME</a></b> 
											<span ng-repeat='i in location' > > {[{ i | capitalize }]}  </span>
									</div>
							</div>
					</div>

					<!-- Users -->
					<div ng-if='is_here("users")'>
						<br>
						<div class="card">
							<div class="card-body">
								<small>Root Access</small>
								<b>Users</b>
								<hr>
								<div class="row">
									<div class="col-md-6">
										<input placeholder="Search user..." type="text" class="form-control">
									</div>
									<div class="col-md-6">
										<button class="btn btn-sm btn-success" ng-click='pages.users.add()'>Add New</button>
									</div>
								</div>
								<hr>
								<div style="overflow-y: scroll;height: 50vh">
									<table class="table">
										<thead>
											<tr>
												<th>#</th>
												<th>Username</th>
												<th>Email</th>
												<th>Priveledges</th>
												<th>Actions</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat='i in pages.users.list'>
												<td>{[{ $index + 1 }]}</td>
												<td>{[{ i.username }]}</td>
												<td>{[{ i.email }]}</td>
												<td>{[{ i.priv.join(" , ") }]}</td>
												<td>
													<button ng-click='pages.users.edit(i)' class="btn btn-default btn-sm"> Edit </button>
													<button class="btn btn-danger btn-sm" ng-click='pages.users.delete(i)'> Remove </button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>

					<!-- Geneset -->
					<div ng-if='is_here("geneset")'>
						<br>
						<div class="card">
							<div class="card-body">
								<div class="container">
									<br>
									<h4>Geneset</h4>
									<p> 
										collection of unique representation of features and allele
										<form class="form-inline" ng-submit='pages.geneset.submit()'>
											<input class="form-control form-control-sm" type="text" ng-model='pages.geneset.name' >  
											<button type="submit" class="btn btn-primary btn-sm">Add</button>
										</form>
									</p>
									<ol>
										<li ng-repeat='i in pages.geneset.list' > <a href="javascript:void(0)" ng-click='pages.geneset.view(i)'> {[{ i.label }]}</a> &nbsp&nbsp  &nbsp&nbsp <a ng-click='pages.geneset.delete()' style="color: red" href="javascript:void(0)">Delete</a>  </li>
									</ol>
								</div>
							</div>
						</div>
						<br>
						<div class="card" ng-if='pages.geneset.geneset'> 
							<div class="card-body">
								<div class="container">
									<br>
									<h4>Geneset Settings</h4>
									<p>Geneset settings for {[{ pages.geneset.geneset.label }]}.</p>
									<div class="row">
										<div class="col-md-3">
											<div style="overflow-y: scroll; height: 50vh">
												<table class="table table-border table-striped table-hover">
													<thead>
														<tr>
															<th>Alleles</th>
														</tr>
													</thead>
													<tbody>
														<tr style="cursor: pointer;" ng-repeat='i in pages.geneset.allele.content' ng-click='pages.geneset.allele.view(i)'><td>{[{i.label}]}</td></tr>
													</tbody>
													<thead>
														<tr><th>Modifiers</th></tr>
													</thead>
													<tbody>
														<tr style="cursor: pointer;" ng-repeat='i in [1,2,3,4,5]'><td>Eyes</td></tr>
													</tbody>
												</table>
											</div>
										</div>	
										<div class="col-md-9">
											<div style="overflow-y: scroll;height: 50vh;">
												<table class="table table-border table-striped table-hover">
													
													<thead>
														<tr>
															<th>Feature</th>
															<th>Value</th>
															<th>Dominance</th>
															<th>Asset</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-click='pages.geneset.allele.view_feature(i)' ng-repeat=' i in pages.geneset.allele.features'>
															<td>{[{ i.feature }]}</td>
															<td>{[{ i.label }]}</td>
															<td>{[{i.dominance}]}</td>
															<td><a href="javascript:void(0)"> #ae32b </a></td>
														</tr>
														<tr>
															<td> <input ng-model='pages.geneset.feature.add.feature' type="text" class="form-control" > </td>
															<td> <input ng-model='pages.geneset.feature.add.label' type="text" class="form-control" > </td>
															<td> <input ng-model='pages.geneset.feature.add.dominance' type="number" class="form-control" > </td>
															<td><a href="javascript:void(0)"> #ae32b </a></td>
														</tr>
														<tr>
															<td colspan="4" class="text-center" ng-click='pages.geneset.feature.add.submit()' style="cursor: pointer;"> <b>Add + </b>  </td>
														</tr>

													</tbody>
													<thead>
												</table>
											</div>
										</div>									
									</div>
									<br>
									<form class="form-inline" ng-submit='pages.geneset.allele.add.submit()'>
										<input class="form-control form-sm"  ng-model='pages.geneset.allele.add.label' > &nbsp&nbsp
										<select class="form-control" ng-model='pages.geneset.allele.add.mode'>
											<option selected value="allele"> Allele</option>
											<option value="modifier"> Modifier</option>
										</select> &nbsp&nbsp
										<button type="submit" class="btn btn-primary">Add</button>
									</form>
									<br>
									<br><br>
								</div>
							</div>
						</div>
						<br><br>
						<br><br>
						<br><br>
						<br><br>
						<br><br>
						<br><br>
						<br><br>
					</div>

					<!-- Asset -->
					<div ng-if='is_here("asset")'>
						<br>
						<div class="card">
							<div class="card-body">
								<div class="container">
									<br>
									<h4>Asset</h4>
									Browse
									<div class="row">
										<div class="col-md-3" style="overflow-y: scroll; height: 135vh; ">
											<table class="table table-striped">
												<thead>
													<tr>
														<th>Filenames</th>
													</tr>
												</thead>
												<tbody>
													<tr ng-repeat='i in pages.asset.content'>
														<td style="cursor: pointer;" ng-click='pages.asset.view(i)'> 
															{[{ i.label }]} 
														</td>
													</tr>
													<tr><td><input class="form-control" ng-model='pages.asset.new_label' ></td></tr>
													<tr><td ng-click='pages.asset.add()' style="text-align: center; cursor: pointer;"> <b> Add+ </b> </td></tr>
												</tbody>
											</table>

										</div>
										<div class="col-md-8" ng-if='pages.asset.selected'>
											<div class="card">
												<div class="card-body" style="text-align: center;">
													<br>
													<canvas width="350px" height="350px" style="background: #dedede"></canvas>
													<br>
												</div>
											</div>
											<br>
											<div class="card">
												<div class="card-body">
													<input type="text" class="form-control" placeholder="Label" ng-model='pages.asset.selected.label'> <br>
													<table class="table table-striped table-center">
														<tr>
															<td>&nbsp&nbsp X</td>
															<td><input class="form-control" type="number" ng-model='pages.asset.selected.position.x'></td>
															<td>&nbsp&nbsp Y</td>
															<td><input class="form-control" type="number" ng-model='pages.asset.selected.position.y'></td>
														</tr>
														<tr>
															<td><small>ScaleX</small></td>
															<td><input class="form-control" type="number" ng-model='pages.asset.selected.scale.h'></td>
															<td><small>ScaleY</small></td>
															<td><input class="form-control" type="number" ng-model='pages.asset.selected.scale.v'></td>
														</tr>
														<tr>
															<td>Depth</td>
															<td colspan=6><input class="form-control" type="number" ng-model='pages.asset.selected.depth'></td>
														</tr>
													</table>
													<div class="card">
														<div class="card-body">
															<div class="form-group">
															    <label for="file-sprite">Upload Sprite File</label>
															    <input type="file" class="form-control-file" id="file-sprite">
														  	</div>
														</div>
													</div>
													<div class="card card-body">
														<div class="alert alert-success">
															<button class="btn btn-success">Save Asset</button> &nbsp&nbsp Save Changes
														</div>
														<div class="alert alert-danger">
															<button class="btn btn-danger" ng-click='pages.asset.delete()'>{[{ (pages.asset.delete_confirm) ? "Really?" : "Delete Asset" }]}</button> &nbsp&nbsp <b>Note: This is irreversible</b>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<br><br>
							</div>
						</div>
							<br><br><br><br>
					</div>

				</div>
		</div>

		<div class="modal fade" id="user-form" tabindex="-1" role="dialog" aria-labelledby="user-form-Label" aria-hidden="true">
		  <form ng-submit='pages.users.modal.submit()' >
			  <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title" id="user-form-Label">{[{ pages.users.modal.title }]}</h5>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
			      </div>
			      <div class="modal-body">
			        	<b>Username</b> <br>
			      		<div class="alert alert-danger" ng-if='!pages.users.modal.username_available && pages.users.mode=="add" '>Username is not available</div>
			        	<div class="row">
			        		<div class="col-md-8">
			        			<input ng-change='pages.users.modal.is_available()' ng-model = 'pages.users.modal.form.username' required type="text" placeholder="Username" class="form-control">
			        		</div>
			        	</div>
			        	<b>Password</b> <br>
			        	<div class="row">
			        		<div class="col-md-8">
			        			<input ng-model = 'pages.users.modal.form.password' ng-required='pages.users.mode=="add" ' type="password" placeholder="Password" class="form-control">
			        			<input ng-model = 'pages.users.modal.form.rpassword' ng-class='{"is-valid":pages.users.modal.is_same_password() && pages.users.modal.form.password,"is-invalid":!pages.users.modal.is_same_password()}' ng-change='pages.users.modal.is_same_password()' ng-required='pages.users.mode=="add" ' type="password" placeholder="Confirm password" class="form-control">

			        		</div>
			        	</div>
			        	<b>Email</b> <br>
			        	<div class="row">
			        		<div class="col-md-8">
			        			<input ng-model = 'pages.users.modal.form.email' required type="email" placeholder="Email" class="form-control">
			        		</div>
			        	</div>
			        	<hr>
			        	<b>Priveleges</b> <br>
			        	<input ng-checked='pages.users.modal.form.priv.includes("admin")' ng-click='pages.users.togglePriv("admin")' type="checkbox"> Admin <br>
			        	<input ng-checked='pages.users.modal.form.priv.includes("maw")' ng-click='pages.users.togglePriv("maw")' type="checkbox"> Maw manipulation <br>
			        	<hr>
			        	<small>By clicking 'Save' the user agrees to the site <a href="">Terms</a> and <a href="">Data Policy</a>, including <a href="">Cookie Use</a></small>

			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			        <button type="Submit" class="btn btn-primary">Save</button>
			      </div>
			    </div>
			  </div>
		  </form>
		</div>




		<div class="modal fade" id="user-delete" tabindex="-1" role="dialog" aria-labelledby="user-delete-Label" aria-hidden="true">
		    <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-body">
			      	Are you sure you want to delete {[{ pages.users.modal.title }]} ?
			      	<br>
			      	<small style="color: red">Note: This process is irreversible.</small>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			        <button class="btn btn-danger" ng-click='pages.users.modal.submit_delete()'>Confirm</button>
			      </div>
			    </div>
			  </div>
		</div>

		<div class="modal fade" id="feature-view" tabindex="-1" role="dialog" aria-labelledby="feature-view-Label" aria-hidden="true">
		    <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-body">
			      	<h4>Feature Information</h4>
			      	<div class="container">	
			      		Feature : {[{ pages.geneset.allele.selected_feature.feature }]} <br>
			      		Label : {[{ pages.geneset.allele.selected_feature.label }]} <br>
			      		Dominance : {[{ pages.geneset.allele.selected_feature.dominance }]} <br>
			      		Asset : <a href="#!">ae32b</a>
			      	</div>
			      </div>
			      <div class="modal-footer">
			      	Actions : &nbsp
			        <button class="btn btn-danger" ng-click='pages.geneset.feature.press_delete()' >{[{ (pages.geneset.feature.delete.confirm ? "Realy?" : "Remove") }]}</button>
			        <button class="btn btn-primary">Change Asset</button>
			        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			      </div>
			    </div>
			  </div>
		</div>
</div>